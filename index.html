<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<style>
  body {
    margin:0;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background:#ffffff;
  }
  canvas { display:block; }
</style>
</head>
<body>
<canvas id="dice" width="200" height="200"></canvas>
<script>
const canvas = document.getElementById('dice');
const ctx = canvas.getContext('2d');

const positions = {
  1:[[100,100]],
  2:[[60,60],[140,140]],
  3:[[60,60],[100,100],[140,140]],
  4:[[60,60],[60,140],[140,60],[140,140]],
  5:[[60,60],[60,140],[140,60],[140,140],[100,100]],
  6:[[60,60],[60,100],[60,140],[140,60],[140,100],[140,140]]
};

function drawDice(num) {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = '#ffffff';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.strokeStyle = '#000000';
  ctx.lineWidth = 4;
  ctx.strokeRect(10,10,180,180);

  ctx.fillStyle = '#000000';
  positions[num].forEach(p=>{
    ctx.beginPath();
    ctx.arc(p[0],p[1],10,0,2*Math.PI);
    ctx.fill();
  });
}

let current = 1;
drawDice(current);

canvas.addEventListener('click', ()=>{
  let duration = 600; // gesamte Animationsdauer in ms
  let start = null;
  
  function animateRoll(timestamp){
    if(!start) start = timestamp;
    let elapsed = timestamp - start;
    
    // Geschwindigkeit: hoch am Anfang, langsamer zum Ende (EaseOut)
    let speed = Math.max(50, 300*(1 - elapsed/duration));
    
    // neue zuf√§llige Zahl anzeigen
    current = Math.floor(Math.random()*6)+1;
    drawDice(current);
    
    if(elapsed < duration){
      setTimeout(()=>{
        requestAnimationFrame(animateRoll);
      }, speed);
    }
  }

  requestAnimationFrame(animateRoll);
});
</script>
</body>
</html>
